# 관계형 모델

---

## 1. 관계형 데이터베이스의 구조

![관계형 모델](https://github.com/liarreez/Tech-Interview-Conquer/blob/main/DataBase/img/%EA%B4%80%EA%B3%84%ED%98%95%EB%AA%A8%EB%8D%B8.png)

<br>

- **관계형 데이터베이스** : 테이블의 모임
- **릴레이션** : 테이블
- **속성** : 테이블의 열
  * 모든 속성의 도메인은 **원자적**(여러 값을 가질 수 없음)
  * 1행의 name 값으로 Yang과 양이라는 두 가지의 값을 동시에 가질 수 없음, Yang이라는 하나의 값만 가져야 함
  * 속성이 없을 경우 널(Null) 값을 가질 수 있지만 가능하다면 Null 값은 제거하는 것이 좋음
- **튜플** : 테이블의 행

<br>

사진을 보면 instructor 테이블에는 여러 instructor 튜플이 존재하고 각각의 튜플은 ID, name, dept_name, salary의 속성을 가짐

<br>

## 2. 데이터베이스 스키마

<br>

- **릴레이션 스키마** : 릴레이션의 구조 정의(논리적 설계)
- **릴레이션 인스턴스** : 릴레이션에 저장된 실제 데이터 집합

<br>

릴레이션 스키마는 프로그래밍 언어의 타입, 릴레이션 인스턴스는 프로그래밍 언어의 변수의 값과 유사  
String str = "Hello"에서 String이 릴레이션 스키마, "Hello"가 릴레이션 인스턴스와 유사

<br>

## 3. 키

<br>

- **수퍼키** : 릴레이션에서 튜플을 유일하게 식별할 수 있는 하나 혹은 여러 속성들의 집합
- **후보키** : 수퍼키 중 가장 적은 속성으로 유일성이 보장되는(최소성) 키
- **주 키** : 후보키 중에서 대표로 선택된 키
  * **주 키 제약 조건**
    - 한 테이블에 반드시 하나만 존재
    - 주 키 값은 반드시 존재(Null 불가)
    - 주 키는 중복될 수 없음
  * 주 키는 변경 가능성이 낮은 속성을 선택
- **외래키** : 다른 테이블의 키를 참조하는 키
  * **외래키 제약 조건**
    - **참조 무결성 제약 조건** : 참조하는 릴레이션의 특정 속성이 참조되는 릴레이션의 특정 속성에 출현해야 함
    - 그 특정 속성은 주 키여야 함
  * 외래키는 서로 다른 릴레이션에 있는 튜플을 연관시키는 일반적인 방법
- 키 예시(department 테이블)
  * 수퍼키 : { dept_name }, { dept_name, building }, { dept_name, budget }, { dept_name, building, budget }, { budget }
  * 후보키 : { dept_name }, { budget }
  * 주 키 : { dept_name } => budget은 중복 가능성, 변경 가능성이 높으므로 dept_name 선택
  * 외래키 : { dept_name } 사용 가능

<br>

## 4. 질의어

<br>

- **질의어** : 사용자가 데이터베이스로부터 정보를 요청할 때 사용하는 언어
  * 명령형 질의어
    - 사용자가 검색 방법을 직접 지정
    - 사용자가 직접 상태 갱신
    - PL/SQL
  * 함수형 질의어
    - 함수 조합을 통해 데이터 처리하는 방식
    - 기존 데이터는 유지하고 변환하여 새로운 데이터 생성(불변성)
    - 관계 대수, LINQ in C#
  * 선언형 질의어
    - 원하는 정보만 기술하는 방식
    - DBMS가 자동 상태 갱신
    - SQL
